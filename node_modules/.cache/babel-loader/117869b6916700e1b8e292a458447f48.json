{"ast":null,"code":"var _jsxFileName = \"/Users/ayelen/Documents/Web-Development/React-JS/proyecto-final/Comarca/src/Components/CheckoutForm/Orders.js\";\n\n/* import React from \"react\";\nimport CheckoutForm from \"./CheckoutForm\";\n\nimport { db } from \"../../firebase\";\nimport firebase from \"firebase/app\";\nimport { useCartContext } from \"../../Contexts/CartContext\";\n\nlet keyId;\nlet buyerInfo;\n\nconst Orders = () => {\n  const { cart, clearCart, reduceCart } = useCartContext();\n\n  const clear = () => clearCart();\n\n  console.log(cart);\n  const itemsCart = cart.map((cartItem) => {\n    return {\n      id: cartItem.id,\n      nombre: cartItem.nombre,\n      precio: cartItem.precio,\n      quantity: cartItem.quantity,\n    };\n  });\n\n  const addOrdenInfo = (compra) => {\n    buyerInfo = compra;\n  };\n\n  const addOrden = () => {\n    db.collection(\"ordenes\")\n      .add({\n        buyer: buyerInfo,\n        items: itemsCart,\n        date: firebase.firestore.FieldValue.serverTimestamp(),\n        total: reduceCart,\n      })\n      .then((docRef) => {\n        keyId = docRef.id;\n        updateStock();\n        clear();\n      })\n      .catch((error) => {\n        console.error(\"Error adding document: \", error);\n      });\n  };\n\n  const updateStock = () => {\n    itemsCart.forEach(async (elem) => {\n      const product = await db.collection(\"productos\").doc(elem.id).get();\n      const ProdStock = product.data().stock - elem.quantity;\n      await db.collection(\"productos\").doc(elem.id).update({\n        stock: ProdStock,\n      });\n    });\n  };\n\n  return (\n    <div>\n      <CheckoutForm\n        addOrden={addOrden}\n        keyId={keyId}\n        addOrdenInfo={addOrdenInfo}\n      />\n    </div>\n  );\n};\n\nexport default Orders; */\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Orders = () => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n\n_c = Orders;\nexport default Orders;\n\nvar _c;\n\n$RefreshReg$(_c, \"Orders\");","map":{"version":3,"sources":["/Users/ayelen/Documents/Web-Development/React-JS/proyecto-final/Comarca/src/Components/CheckoutForm/Orders.js"],"names":["React","Orders"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,MAAM,GAAG,MAAM;AACnB,sBACE;AAAA;AAAA;AAAA;AAAA,UADF;AAKD,CAND;;KAAMA,M;AAQN,eAAeA,MAAf","sourcesContent":["/* import React from \"react\";\nimport CheckoutForm from \"./CheckoutForm\";\n\nimport { db } from \"../../firebase\";\nimport firebase from \"firebase/app\";\nimport { useCartContext } from \"../../Contexts/CartContext\";\n\nlet keyId;\nlet buyerInfo;\n\nconst Orders = () => {\n  const { cart, clearCart, reduceCart } = useCartContext();\n\n  const clear = () => clearCart();\n\n  console.log(cart);\n  const itemsCart = cart.map((cartItem) => {\n    return {\n      id: cartItem.id,\n      nombre: cartItem.nombre,\n      precio: cartItem.precio,\n      quantity: cartItem.quantity,\n    };\n  });\n\n  const addOrdenInfo = (compra) => {\n    buyerInfo = compra;\n  };\n\n  const addOrden = () => {\n    db.collection(\"ordenes\")\n      .add({\n        buyer: buyerInfo,\n        items: itemsCart,\n        date: firebase.firestore.FieldValue.serverTimestamp(),\n        total: reduceCart,\n      })\n      .then((docRef) => {\n        keyId = docRef.id;\n        updateStock();\n        clear();\n      })\n      .catch((error) => {\n        console.error(\"Error adding document: \", error);\n      });\n  };\n\n  const updateStock = () => {\n    itemsCart.forEach(async (elem) => {\n      const product = await db.collection(\"productos\").doc(elem.id).get();\n      const ProdStock = product.data().stock - elem.quantity;\n      await db.collection(\"productos\").doc(elem.id).update({\n        stock: ProdStock,\n      });\n    });\n  };\n\n  return (\n    <div>\n      <CheckoutForm\n        addOrden={addOrden}\n        keyId={keyId}\n        addOrdenInfo={addOrdenInfo}\n      />\n    </div>\n  );\n};\n\nexport default Orders; */\n\nimport React from 'react';\n\nconst Orders = () => {\n  return (\n    <div>\n      \n    </div>\n  )\n}\n\nexport default Orders;\n"]},"metadata":{},"sourceType":"module"}