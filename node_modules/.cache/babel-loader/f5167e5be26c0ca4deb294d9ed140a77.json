{"ast":null,"code":"var _jsxFileName = \"/Users/ayelen/Documents/Web-Development/React-JS/proyecto-final/Comarca/src/Contexts/CartContext.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { createContext, useState, useContext } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CartContext = /*#__PURE__*/createContext({});\nexport const useCartContext = () => {\n  _s();\n\n  return useContext(CartContext);\n};\n\n_s(useCartContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nconst CartProvider = ({\n  children\n}) => {\n  _s2();\n\n  const [cart, setCart] = useState([]);\n\n  const clearCart = () => setCart([]);\n\n  const isInCart = id => cart.some(item => item.id === id);\n\n  const addToCart = (item, quantity) => {\n    if (isInCart(item.id)) {\n      const newCart = cart.map(cartItem => {\n        if (cartItem.id === item.id) {\n          return { ...cartItem,\n            quantity: cartItem.quantity + quantity\n          };\n        } else return cartItem;\n      });\n      setCart(newCart);\n    } else {\n      setCart(prev => [...prev, { ...item,\n        quantity\n      }]);\n    }\n  };\n\n  const itemEliminar = id => cart.find(item => item.id === id);\n\n  const removeItem = item => {\n    if (itemEliminar(item.id)) {\n      const updateCart = cart.map(removeItem => {\n        if (removeItem.id === item.id) {\n          const indice = cart.indexOf(itemEliminar);\n          cart.splice(indice, 1);\n          return;\n        }\n      });\n      setCart(updateCart);\n    }\n\n    ;\n  };\n  /* const removeItem = (id) => {\n      for(let i = 0; i < cart.length; i += 1) {\n          if (cart[i].id === id) {\n              return cart.splice(i, 1)\n          }\n      }\n  } */\n\n\n  let reduceCart = cart.reduce((acc, el) => acc += el.precio * el.quantity, 0);\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      cart,\n      setCart,\n      clearCart,\n      addToCart,\n      reduceCart\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n};\n\n_s2(CartProvider, \"ZqFaEIYkzI5UoYUmTgmqHbYYm/0=\");\n\n_c = CartProvider;\nexport default CartProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"sources":["/Users/ayelen/Documents/Web-Development/React-JS/proyecto-final/Comarca/src/Contexts/CartContext.js"],"names":["React","createContext","useState","useContext","CartContext","useCartContext","CartProvider","children","cart","setCart","clearCart","isInCart","id","some","item","addToCart","quantity","newCart","map","cartItem","prev","itemEliminar","find","removeItem","updateCart","indice","indexOf","splice","reduceCart","reduce","acc","el","precio"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,QAA/B,EAAyCC,UAAzC,QAA2D,OAA3D;;AAEA,OAAO,MAAMC,WAAW,gBAAGH,aAAa,CAAC,EAAD,CAAjC;AAEP,OAAO,MAAMI,cAAc,GAAG;AAAA;;AAAA,SAAMF,UAAU,CAACC,WAAD,CAAhB;AAAA,CAAvB;;GAAMC,c;;AAEb,MAAMC,YAAY,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAAA;;AAEnC,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,EAAD,CAAhC;;AAEA,QAAMQ,SAAS,GAAG,MAAMD,OAAO,CAAC,EAAD,CAA/B;;AAEA,QAAME,QAAQ,GAAGC,EAAE,IAAIJ,IAAI,CAACK,IAAL,CAAUC,IAAI,IAAGA,IAAI,CAACF,EAAL,KAAYA,EAA7B,CAAvB;;AAEA,QAAMG,SAAS,GAAG,CAACD,IAAD,EAAOE,QAAP,KAAoB;AAClC,QAAGL,QAAQ,CAACG,IAAI,CAACF,EAAN,CAAX,EAAsB;AAClB,YAAMK,OAAO,GAAGT,IAAI,CAACU,GAAL,CAASC,QAAQ,IAAI;AACjC,YAAGA,QAAQ,CAACP,EAAT,KAAgBE,IAAI,CAACF,EAAxB,EAA4B;AACxB,iBAAO,EAAC,GAAGO,QAAJ;AAAcH,YAAAA,QAAQ,EAAEG,QAAQ,CAACH,QAAT,GAAoBA;AAA5C,WAAP;AACH,SAFD,MAEO,OAAOG,QAAP;AACV,OAJe,CAAhB;AAKAV,MAAAA,OAAO,CAACQ,OAAD,CAAP;AACH,KAPD,MAOO;AACHR,MAAAA,OAAO,CAACW,IAAI,IAAI,CAAC,GAAGA,IAAJ,EAAU,EAAC,GAAGN,IAAJ;AAAUE,QAAAA;AAAV,OAAV,CAAT,CAAP;AACH;AACJ,GAXD;;AAeA,QAAMK,YAAY,GAAGT,EAAE,IAAIJ,IAAI,CAACc,IAAL,CAAWR,IAAI,IAAIA,IAAI,CAACF,EAAL,KAAYA,EAA/B,CAA3B;;AAEA,QAAMW,UAAU,GAAIT,IAAD,IAAU;AACzB,QAAGO,YAAY,CAACP,IAAI,CAACF,EAAN,CAAf,EAA0B;AACtB,YAAMY,UAAU,GAAGhB,IAAI,CAACU,GAAL,CAAUK,UAAU,IAAI;AACvC,YAAGA,UAAU,CAACX,EAAX,KAAkBE,IAAI,CAACF,EAA1B,EAA8B;AAC1B,gBAAMa,MAAM,GAAGjB,IAAI,CAACkB,OAAL,CAAaL,YAAb,CAAf;AACAb,UAAAA,IAAI,CAACmB,MAAL,CAAYF,MAAZ,EAAoB,CAApB;AACA;AACH;AACJ,OANkB,CAAnB;AAOAhB,MAAAA,OAAO,CAACe,UAAD,CAAP;AACH;;AAAA;AACJ,GAXD;AAaA;AACJ;AACA;AACA;AACA;AACA;AACA;;;AAEI,MAAII,UAAU,GAAGpB,IAAI,CAACqB,MAAL,CAAY,CAACC,GAAD,EAAMC,EAAN,KAAaD,GAAG,IAAKC,EAAE,CAACC,MAAH,GAAYD,EAAE,CAACf,QAAhD,EAA2D,CAA3D,CAAjB;AAEA,sBACI,QAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAACR,MAAAA,IAAD;AAAOC,MAAAA,OAAP;AAAgBC,MAAAA,SAAhB;AAA2BK,MAAAA,SAA3B;AAAsCa,MAAAA;AAAtC,KAA7B;AAAA,cACMrB;AADN;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH,CArDD;;IAAMD,Y;;KAAAA,Y;AAuDN,eAAeA,YAAf","sourcesContent":["import React, { createContext, useState, useContext } from \"react\";\n\nexport const CartContext = createContext({});\n\nexport const useCartContext = () => useContext(CartContext);\n\nconst CartProvider = ({ children }) => {\n\n    const [cart, setCart] = useState([]);\n\n    const clearCart = () => setCart([]);\n\n    const isInCart = id => cart.some(item =>item.id === id);\n\n    const addToCart = (item, quantity) => {\n        if(isInCart(item.id)) {\n            const newCart = cart.map(cartItem => {\n                if(cartItem.id === item.id) {\n                    return {...cartItem, quantity: cartItem.quantity + quantity}\n                } else return cartItem;\n            });\n            setCart(newCart);\n        } else {\n            setCart(prev => [...prev, {...item, quantity}]);\n        }\n    };\n\n\n    \n    const itemEliminar = id => cart.find( item => item.id === id); \n\n    const removeItem = (item) => {\n        if(itemEliminar(item.id)) {\n            const updateCart = cart.map( removeItem => {\n                if(removeItem.id === item.id) {\n                    const indice = cart.indexOf(itemEliminar);\n                    cart.splice(indice, 1);\n                    return\n                }\n            });\n            setCart(updateCart)\n        };\n    };\n\n    /* const removeItem = (id) => {\n        for(let i = 0; i < cart.length; i += 1) {\n            if (cart[i].id === id) {\n                return cart.splice(i, 1)\n            }\n        }\n    } */\n\n    let reduceCart = cart.reduce((acc, el) => acc += (el.precio * el.quantity), 0)\n\n    return (\n        <CartContext.Provider value={{cart, setCart, clearCart, addToCart, reduceCart, }} >\n            { children }\n        </CartContext.Provider>\n    )\n}\n\nexport default CartProvider;\n"]},"metadata":{},"sourceType":"module"}